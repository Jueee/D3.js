
<!-- http://www.ourd3js.com/wordpress/?p=104 -->
<!-- 比例尺的使用 -->
<html>
    <head>
        <meta charset="utf-8">
        <title>HelloWorld</title>
    </head>
    <body>
        <svg>
            <rect></rect>
            <rect></rect>
        </svg>
        <script src="../d3.js" charset="utf-8"></script>
        <script type="text/javascript">
            var width = 300;
            var height = 300;
            var svg = d3.select('body').append('svg').attr('width',width).attr('height',height);

            var dataset_1 = [ 2.5 , 2.1 , 1.7 , 1.3 , 2.9 ];
            var dataset_2 = [ 2500, 2100, 1700, 1300, 900 ];

            var min = d3.min(dataset_1);
            var max = d3.max(dataset_1);
            var linear = d3.scale.linear()      //返回一个线性比例尺
                           .domain([min,max])   //设定比例尺的定义域
                           .range([0,300]);     //设定比例尺的值域

            var rectHeight = 25;

            svg.selectAll("rect")   //选择svg内所有的矩形
               .data(dataset_1)       //绑定数组
               .enter()             //指定选择集的enter部分
               .append("rect")      //添加足够数量的矩形元素
               .attr("x",20)
               .attr("y",function(d,i){
                    return i * rectHeight;
               })
               .attr("width",function(d){
                    return linear(d);   //在这里用比例尺
               })
               .attr("height",rectHeight-2)
               .attr("fill","steelblue");   //给矩形元素设置颜色

        </script>

    </body>
    


</html>